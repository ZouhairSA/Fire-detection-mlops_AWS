<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ðŸ”¥ FireVision Dashboard Pro</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
body{
    background:#000;
    color:white;
    font-family:Poppins;
}

/* Sidebar */
.sidebar{
    width:260px;
    height:100vh;
    background:rgba(255,255,255,0.05);
    border-right:1px solid rgba(255,255,255,0.1);
    position:fixed;
    padding:20px;
}

.sidebar a{
    display:block;
    color:white !important;
    padding:10px;
    border-radius:10px;
    text-decoration:none;
}

.sidebar a:hover{
    background:rgba(255,123,0,0.2);
}

.main{
    margin-left:280px;
    padding:30px;
}

.card{
    background:rgba(255,255,255,0.08);
    border:1px solid rgba(255,255,255,0.1);
}

.upload-box{
    border:2px dashed orange;
    padding:40px;
    border-radius:20px;
    text-align:center;
}

.preview-img{
    margin-top:20px;
    border-radius:15px;
}

/* sections */
.section{ display:none; }
.section.active{ display:block; }

</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h3 class="text-warning mb-3"><i class="bi bi-fire"></i> FireVision</h3>
    <a href="#" onclick="show('analyse')"><i class="bi bi-house"></i> Analyse</a>
    <a href="#" onclick="show('rapport')"><i class="bi bi-file-earmark-text"></i> Rapport</a>
</div>

<!-- MAIN -->
<div class="main">

<!-- ANALYSE -->
<div id="analyse" class="section active">

<h2>ðŸ”¥ Analyse dâ€™incendie</h2>

<form method="POST" enctype="multipart/form-data">

    <label class="upload-box">
        <i class="bi bi-cloud-arrow-up fs-1 text-warning"></i>
        <h5>Importer une image</h5>
        <input type="file" name="image" accept="image/*" required class="d-none" id="imageInput">
    </label>

    <img id="previewImage" class="preview-img">

    <button class="btn btn-warning w-100 mt-3">Analyser</button>
</form>

{% if results %}
<div class="card p-3 mt-3">

<h5>RÃ©sultat</h5>

{% if results[0].error %}
<p class="text-danger">{{ results[0].error }}</p>
{% elif results|length == 0 %}
<p>Aucun feu dÃ©tectÃ©.</p>
{% else %}
{% for r in results %}
<p>ðŸ”¥ Feu dÃ©tectÃ© â€” confiance : <b>{{ r.confidence*100 }}%</b></p>
{% endfor %}
{% endif %}

<a class="btn btn-outline-warning w-100 mt-2"
   href="/download_pdf?results={{results}}&image={{image_path}}">
ðŸ“„ TÃ©lÃ©charger rapport PDF
</a>

</div>
{% endif %}

</div>

<!-- RAPPORT -->
<div id="rapport" class="section">

<h2>ðŸ“„ Rapport du projet</h2>
<p>
Ce rapport dÃ©crit le fonctionnement de FireVision, un systÃ¨me IA de dÃ©tection
dâ€™incendie basÃ© sur YOLOv8. Le modÃ¨le identifie automatiquement les zones de feu
dans les images et fournit un niveau de confiance.
</p>

<ul>
<li>ðŸ“Œ DÃ©tection temps rÃ©el</li>
<li>ðŸ“Œ Haute prÃ©cision</li>
<li>ðŸ“Œ Interface Web moderne</li>
<li>ðŸ“Œ Export PDF</li>
</ul>

</div>

</div>

<script>
function show(id){
    document.querySelectorAll('.section')
        .forEach(s => s.classList.remove('active'));

    document.getElementById(id).classList.add('active');
}

const input=document.getElementById("imageInput");
const preview=document.getElementById("previewImage");

input.addEventListener("change",()=>{
    preview.src = URL.createObjectURL(input.files[0]);
    preview.style.display="block";
});
</script>

</body>
</html>






<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fire Detection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h1 class="mb-4 text-center">ðŸ”¥ Fire Detection ðŸ”¥</h1>

    <form method="POST" enctype="multipart/form-data" class="mb-4">
        <div class="mb-3">
            <input type="file" class="form-control" name="image" required>
        </div>
        <button type="submit" class="btn btn-danger w-100">Upload & Predict</button>
    </form>

    {% if image_path %}
    <div class="text-center mb-4">
        <h4>Image Uploaded:</h4>
        <img src="{{ image_path }}" alt="Uploaded Image" class="img-fluid rounded" style="max-height:400px;">
    </div>
    {% endif %}

    {% if results %}
    <div class="card p-3">
        <h4>Predictions:</h4>
        <ul class="list-group list-group-flush">
            {% for r in results %}
            <li class="list-group-item">
                <strong>{{ r.class }}</strong> â€” Confidence: {{ r.confidence }}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
</body>
</html> -->
