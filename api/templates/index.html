<!DOCTYPE html>
<html lang="fr">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>ðŸ”¥ FireVision Dashboard Pro</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

<style>

/* GLOBAL */
body{
    font-family:Roboto;
    background:#001B3A;
    color:white;
}

/* UPLOAD BOX */
.upload-box{
    border:2px dashed #0d6efd;
    padding:20px;
    border-radius:14px;
    cursor:pointer;
    text-align:center;
    transition:.3s;
}

.upload-box.drag{
    background:rgba(0,123,255,.15);
}

.upload-box:hover{
    transform:scale(1.03);
}

/* PREVIEW */
#preview{
    width:100%;
    border-radius:12px;
    margin-top:20px;
    display:none;
    animation: fade .4s;
}

@keyframes fade{
    from{opacity:0; transform:scale(.9);}
    to{opacity:1; transform:scale(1);}
}

/* ZOOM */
.zoom{
    cursor:zoom-in;
}

.zoom.active{
    transform:scale(1.8);
    cursor:zoom-out;
}

/* BTN REMOVE */
#removeBtn{
    display:none;
}

</style>
</head>

<body>

<div class="container mt-4">

<h3>ðŸ”¥ Analyse dâ€™incendie</h3>

<!-- UPLOAD -->
<div class="upload-box" id="dropzone">

    <i class="bi bi-cloud-arrow-up fs-2"></i>
    <p>Choisir ou glisser une image</p>

    <input id="fileInput" type="file" accept="image/*"
           class="d-none">

</div>

<!-- PREVIEW -->
<img id="preview" class="zoom">

<button class="btn btn-danger mt-2" id="removeBtn">
    Supprimer image
</button>

<hr>

<button class="btn btn-primary w-100">Analyser</button>

</div>

<script>
// ---------------------------------------------------
// PREVIEW IMAGE
// ---------------------------------------------------
const input = document.getElementById("fileInput");
const preview = document.getElementById("preview");
const removeBtn = document.getElementById("removeBtn");

function showImage(file){
    preview.src = URL.createObjectURL(file);
    preview.style.display = "block";
    removeBtn.style.display = "block";
}

// file change
input.addEventListener("change", function(){
    if(this.files[0]) showImage(this.files[0]);
});

// ---------------------------------------------------
// DRAG & DROP
// ---------------------------------------------------
const zone = document.getElementById("dropzone");

zone.addEventListener("dragover", e=>{
    e.preventDefault();
    zone.classList.add("drag");
});

zone.addEventListener("dragleave", ()=>{
    zone.classList.remove("drag");
});

zone.addEventListener("drop", e=>{
    e.preventDefault();
    zone.classList.remove("drag");

    let file = e.dataTransfer.files[0];
    input.files = e.dataTransfer.files;

    showImage(file);
});

// ---------------------------------------------------
// ZOOM IMAGE
// ---------------------------------------------------
preview.addEventListener("click", ()=>{
    preview.classList.toggle("active");
});

// ---------------------------------------------------
// REMOVE IMAGE
// ---------------------------------------------------
removeBtn.onclick = ()=>{
    preview.src="";
    preview.style.display="none";
    removeBtn.style.display="none";
    input.value="";
}

</script>

</body>
</html>







<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fire Detection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h1 class="mb-4 text-center">ðŸ”¥ Fire Detection ðŸ”¥</h1>

    <form method="POST" enctype="multipart/form-data" class="mb-4">
        <div class="mb-3">
            <input type="file" class="form-control" name="image" required>
        </div>
        <button type="submit" class="btn btn-danger w-100">Upload & Predict</button>
    </form>

    {% if image_path %}
    <div class="text-center mb-4">
        <h4>Image Uploaded:</h4>
        <img src="{{ image_path }}" alt="Uploaded Image" class="img-fluid rounded" style="max-height:400px;">
    </div>
    {% endif %}

    {% if results %}
    <div class="card p-3">
        <h4>Predictions:</h4>
        <ul class="list-group list-group-flush">
            {% for r in results %}
            <li class="list-group-item">
                <strong>{{ r.class }}</strong> â€” Confidence: {{ r.confidence }}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
</body>
</html> -->
