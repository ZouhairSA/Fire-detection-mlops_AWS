<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ðŸ”¥ FireVision Dashboard Pro</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
body{
    background: radial-gradient(circle at top,#131820,#000000);
    color:white;
    font-family: "Poppins", sans-serif;
}

/* Sidebar */
.sidebar{
    width: 260px;
    height:100vh;
    background:rgba(255,255,255,0.05);
    backdrop-filter: blur(12px);
    position:fixed;
    left:0; top:0;
    padding:20px;
    border-right:1px solid rgba(255,255,255,0.08);
}

.sidebar h3{
    color:#ff7b00;
}

.sidebar a{
    display:block;
    color:white;
    padding:10px;
    border-radius:10px;
    text-decoration:none;
    margin-bottom:6px;
}

.sidebar a:hover{
    background:rgba(255,123,0,0.15);
}

/* Main content */
.main{
    margin-left:280px;
    padding:30px;
}

.card{
    background:rgba(255,255,255,0.06);
    border:1px solid rgba(255,255,255,0.1);
    backdrop-filter: blur(10px);
}

/* Upload */
.upload-box{
    border:2px dashed #ff7b00;
    padding:40px;
    border-radius:20px;
    text-align:center;
    cursor:pointer;
    transition:0.3s;
}

.upload-box:hover{
    background:rgba(255,123,0,0.12);
    transform:scale(1.02);
}

.preview-img{
    margin-top:20px;
    border-radius:15px;
    max-width:100%;
}

.result-card{
    border-left:5px solid #ff7b00;
}

/* animation */
@keyframes fade{
    from{opacity:0; transform:translateY(10px);}
    to{opacity:1; transform:translateY(0px);}
}

.animate{animation: fade .5s ease;}
</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h3 class="mb-4"><i class="bi bi-fire"></i> FireVision</h3>
    <a href="#"><i class="bi bi-house"></i> Dashboard</a>
    <a href="#"><i class="bi bi-image"></i> Analyse Image</a>
    <a href="#"><i class="bi bi-file-earmark-text"></i> Rapports</a>
    <a href="#"><i class="bi bi-gear"></i> RÃ©glages</a>
</div>

<!-- MAIN -->
<div class="main">

    <h1 class="mb-3">ðŸ”¥ Analyse IA des Incendies</h1>
    <p class="text-white-50 mb-4">YOLOv8 â€¢ DÃ©tection ultra rapide et fiable</p>

    <!-- FORM -->
    <div class="card p-4 animate">

        <form method="POST" enctype="multipart/form-data">

            <label class="upload-box" id="uploadBox">
                <i class="bi bi-cloud-arrow-up fs-1 text-warning"></i>
                <h5 class="mt-3">Importer une image</h5>
                <small>JPG / PNG</small>
                <input type="file" name="image" id="imageInput"
                       class="d-none" accept="image/*" required>
            </label>

            <img id="previewImage" class="preview-img">

            <button class="btn btn-warning w-100 mt-4 py-2 fs-5">
                ðŸš€ Lancer l'analyse
            </button>
        </form>
    </div>

    <!-- RESULTATS -->
    {% if results %}
    <div class="card p-4 mt-4 result-card animate">

        <h4><i class="bi bi-file-earmark-text"></i> RÃ©sultat</h4>

        {% if results[0].error %}
            <p class="text-danger">{{ results[0].error }}</p>

        {% elif results|length == 0 %}
            <p class="text-info"><b>Aucun feu dÃ©tectÃ©.</b></p>

        {% else %}
            {% for r in results %}
                <p>ðŸ”¥ <b>Feu dÃ©tectÃ©</b> â€” Confiance :
                <span class="text-warning">{{ r.confidence * 100 }}%</span>
                </p>
            {% endfor %}
        {% endif %}

        <a href="/download_pdf?results={{ results }}&image={{ image_path }}"
           class="btn btn-outline-warning w-100 mt-3">
           ðŸ“„ TÃ©lÃ©charger rapport PDF
        </a>
    </div>
    {% endif %}

</div>

<!-- PREVIEW JS -->
<script>
const input = document.getElementById("imageInput");
const preview = document.getElementById("previewImage");

input.addEventListener("change", () => {
    const file = input.files[0];
    preview.src = URL.createObjectURL(file);
    preview.style.display = "block";
});
</script>

</body>
</html>






<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fire Detection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h1 class="mb-4 text-center">ðŸ”¥ Fire Detection ðŸ”¥</h1>

    <form method="POST" enctype="multipart/form-data" class="mb-4">
        <div class="mb-3">
            <input type="file" class="form-control" name="image" required>
        </div>
        <button type="submit" class="btn btn-danger w-100">Upload & Predict</button>
    </form>

    {% if image_path %}
    <div class="text-center mb-4">
        <h4>Image Uploaded:</h4>
        <img src="{{ image_path }}" alt="Uploaded Image" class="img-fluid rounded" style="max-height:400px;">
    </div>
    {% endif %}

    {% if results %}
    <div class="card p-3">
        <h4>Predictions:</h4>
        <ul class="list-group list-group-flush">
            {% for r in results %}
            <li class="list-group-item">
                <strong>{{ r.class }}</strong> â€” Confidence: {{ r.confidence }}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
</body>
</html> -->
