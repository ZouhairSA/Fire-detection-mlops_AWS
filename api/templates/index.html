<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ðŸ”¥ Fire Detection</title>
<style>
body {
    background:#000;
    color:white;
    font-family:Arial;
}
.preview-img {
    max-width:400px;
    border-radius:10px;
    margin-top:10px;
}
button {
    padding:10px;
    background:orange;
    border:none;
    border-radius:8px;
}
</style>
</head>
<body>

<h2>ðŸ”¥ DÃ©tection dâ€™incendie YOLO</h2>

<form method="POST" enctype="multipart/form-data">
    <input type="file" name="image" required>
    <br><br>
    <button type="submit">Analyser</button>
</form>

{% if results %}

<hr>

<h3>âœ… RÃ©sultat</h3>

{% if results[0].error %}
<p>{{ results[0].error }}</p>
{% elif results|length == 0 %}
<p>Aucun feu dÃ©tectÃ©.</p>
{% else %}
{% for r in results %}
<p>ðŸ”¥ Feu dÃ©tectÃ© â€” confiance : <b>{{ r.confidence*100 }}%</b></p>
{% endfor %}
{% endif %}

<!-- image originale -->
{% if image_path %}
<h4>Image originale</h4>
<img src="{{ image_path }}" class="preview-img">
{% endif %}

<!-- image annotÃ©e -->
{% if annotated %}
<h4>Image annotÃ©e</h4>
<img src="{{ annotated }}" class="preview-img">
{% endif %}

<br><br>
<a href="/download_pdf?results={{results}}&image=input.jpg">
    ðŸ“„ TÃ©lÃ©charger rapport PDF
</a>

{% endif %}

</body>
</html>






<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fire Detection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h1 class="mb-4 text-center">ðŸ”¥ Fire Detection ðŸ”¥</h1>

    <form method="POST" enctype="multipart/form-data" class="mb-4">
        <div class="mb-3">
            <input type="file" class="form-control" name="image" required>
        </div>
        <button type="submit" class="btn btn-danger w-100">Upload & Predict</button>
    </form>

    {% if image_path %}
    <div class="text-center mb-4">
        <h4>Image Uploaded:</h4>
        <img src="{{ image_path }}" alt="Uploaded Image" class="img-fluid rounded" style="max-height:400px;">
    </div>
    {% endif %}

    {% if results %}
    <div class="card p-3">
        <h4>Predictions:</h4>
        <ul class="list-group list-group-flush">
            {% for r in results %}
            <li class="list-group-item">
                <strong>{{ r.class }}</strong> â€” Confidence: {{ r.confidence }}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
</body>
</html> -->
